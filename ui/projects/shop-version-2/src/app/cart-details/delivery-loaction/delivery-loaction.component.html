<form [formGroup]="customerFrm">
  <div class="selectDelevery" >
    <h3>Delivered to:</h3>

    <mat-tab-group mat-align-tabs="start" *ngIf="(shop$ | async) as shop" dynamicHeight >
      <mat-tab label="Pickup From Shop">
        <ng-template matTabContent>

          <app-order-form
          lp="free"
          [formGroup]="customerFrm"
          ></app-order-form>

          <!-- <app-order-form
          [shopDelivery]="shop_delivery" [mapUrl]="mapUrl"
          *ngIf="shop_delivery.isOpened"
          [formGroup]="customerFrm"></app-order-form> -->

          <!-- <mat-accordion>
            <mat-expansion-panel   *ngFor="let shop_delivery of shop?.shop_delivery_filtered.free; first as isFirst"
            [expanded]="isFirst || shop_delivery.isOpened"
            (opened)="shop_delivery.isOpened = true"
              (closed)="shop_delivery.isOpened = false"
              color="warn"
               >
              <mat-expansion-panel-header>
                <mat-panel-title [ngClass]="{'accent-color': customerFrm.controls.selectedLocation.value?.id == shop_delivery.id}">
                  {{shop_delivery.name}}
                </mat-panel-title>
                <mat-panel-description>
                  <span *ngIf="shop_delivery.charge" class="charge">
                    Delivery Charge @ â‚¹ {{ shop_delivery.charge}}
                  </span>
                </mat-panel-description>
              </mat-expansion-panel-header>
                <p [innerHTML]="shop_delivery.description"></p>
                <app-order-form
                [shopDelivery]="shop_delivery" [mapUrl]="mapUrl"
                *ngIf="shop_delivery.isOpened"
                [formGroup]="customerFrm"></app-order-form>
            </mat-expansion-panel>
          </mat-accordion> -->
        </ng-template>
      </mat-tab>
      <mat-tab label="Home Delivery">
        <ng-template matTabContent>
          <ng-container *ngIf="f.selectedLocation.value">
            <div fxLayout="row" fxLayoutAlign="space-between">
              <p>Delivery Cost: {{ f.selectedLocation.value?.charge }}</p>
              <p *ngIf="f.selectedLocation.value?.min_amount">Minimum Order Amount: {{ f.selectedLocation.value?.min_amount }}</p>
            </div>



            <p [innerHTML]="f.selectedLocation.value?.description"></p>

          </ng-container>


          <app-order-form
          lp="paid"
          [formGroup]="customerFrm"></app-order-form>
        </ng-template>
      </mat-tab>
    </mat-tab-group>

  </div>
</form>
