<ng-container  *ngIf="(products$ | async) else loading">
  <div  fxHide.gt-xs="true" class="search-filter">
    <button mat-raised-button color="primary" class="xs-filter-bt"
    [matMenuTriggerFor]="menu" >Sort By</button>
    <mat-menu #menu="matMenu" xPosition="after" (closed)="ngOnInit()">
      <button mat-menu-item (click)="selectedItems.sort.name='name';selectedItems.sort.type='ASC';">Product Name</button>
      <button mat-menu-item (click)="selectedItems.sort.name='price';selectedItems.sort.type='ASC';">Price Min to Max</button>
      <button mat-menu-item (click)="selectedItems.sort.name='price';selectedItems.sort.type='DESC';">Price Max to Min</button>
    </mat-menu>

    <button mat-raised-button color="primary" class="xs-filter-bt" (click)="openFilter()" >Filter</button>
  </div>
  <div class="sp-h-10" fxHide.gt-xs="true"></div>
  <div class="container">
    <app-search fxHide.xs="true"></app-search>
    <button mat-raised-button color="primary" class="xs-filter-bt"  [matMenuTriggerFor]="menu"  fxHide.xs="true">
      Sort By: {{selectedItems?.sort?.name}}
      <mat-icon *ngIf="selectedItems?.sort?.type == 'ASC'">arrow_drop_down</mat-icon>
      <mat-icon *ngIf="selectedItems?.sort?.type == 'DESC'">arrow_drop_up</mat-icon>
    </button>
    <mat-menu #menu="matMenu" xPosition="after" (closed)="ngOnInit()">
      <button mat-menu-item (click)="selectedItems.sort.name='name';selectedItems.sort.type='ASC';">Product Name</button>
      <button mat-menu-item (click)="selectedItems.sort.name='price';selectedItems.sort.type='ASC';">Price Min to Max</button>
      <button mat-menu-item (click)="selectedItems.sort.name='price';selectedItems.sort.type='DESC';">Price Max to Min</button>
    </mat-menu>
    <button mat-raised-button color="primary" (click)="openFilter()" fxHide.xs="true">Filter</button>
    <app-product [isSearch]="true"></app-product>
  </div>
</ng-container>
<ng-template #loading>
  <div class="container">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
