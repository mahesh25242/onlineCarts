<div class="header-inner"></div>
<div class="container">
<ng-container *ngIf="(stat$ | async) as stat">


<div class="stat-grid" fxLayout="row" fxLayout.xs="column" fxFill="fill" fxLayoutAlign="space-between">
  <mat-card class="" fxFlex="25%" fxFlex.lt-sm="100%" >
   <div class="card-icon card-orange">
     <mat-icon>shopping_basket</mat-icon>
     <h1>{{ stat.categories}}</h1>
   </div>
   <mat-card-content><a routerLink="/admin/categories"><h3>Categories</h3></a></mat-card-content>
  </mat-card>
 <!--<mat-card><h4>Active Categories: {{ stat.active_categories}}</h4></mat-card>
   <mat-card> <h4>Order Delivered: {{ stat.delivered}}</h4></mat-card>
   <mat-card><h4>Order Canceled: {{ stat.cancelled}}</h4></mat-card>
 <mat-card><h4>Active Products: {{ stat.active_products}}</h4></mat-card>  -->
 <mat-card fxFlex="25%" fxFlex.lt-sm="100%">
  <div class="card-icon card-green"><mat-icon>cake</mat-icon><h1>{{ stat.products}}</h1></div>
  <mat-card-content><a routerLink="/admin/products/0"><h3>Products</h3></a></mat-card-content>
  </mat-card>

 <mat-card fxFlex="25%" fxFlex.lt-sm="100%">
  <div class="card-icon card-red"><mat-icon>shopping_cart</mat-icon> <h1>{{ stat.orders}}</h1></div>
  <mat-card-content><a routerLink="/admin/orders"><h3>Orders </h3></a> </mat-card-content>
</mat-card>
  <mat-card fxFlex="25%" fxFlex.lt-sm="100%">
  <div class="card-icon card-blue">
    <mat-icon>room</mat-icon>
    <h1>{{ stat.delivery_locations}}</h1>
  </div>
  <mat-card-content><a routerLink="/admin/deliveries"><h3>Delivery Locations</h3></a></mat-card-content>
  </mat-card>


</div>

  <h1>Latest Orders
    <a mat-flat-button color="primary" class="float-btn" routerLink="/admin/orders">View All</a>
  </h1>


  <mat-card class="table-wrapper">
    <div  [ngClass.lt-sm]="'has-mobile-cards'">
      <table mat-table [dataSource]="stat.latest_orders">

        <!-- id Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>Order No. </th>
          <td mat-cell *matCellDef="let element" data-label="Order No."> {{element.id}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element" data-label="Name"> {{element.shop_customer.name}} </td>
        </ng-container>

        <!-- total Column -->
        <ng-container matColumnDef="total">
          <th mat-header-cell *matHeaderCellDef> Total </th>
          <td mat-cell *matCellDef="let element" data-label="Total"> {{element.total}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="shop_delivery">
          <th mat-header-cell *matHeaderCellDef> Delivery </th>
          <td mat-cell *matCellDef="let element" data-label="Delivery"> {{element.shop_delivery?.name}} </td>
        </ng-container>
      <!-- Order Date -->
        <ng-container matColumnDef="created_at">
          <th mat-header-cell *matHeaderCellDef> Order Date </th>
          <td mat-cell *matCellDef="let element" data-label="Order Date"> {{element.created_at| date:'medium'}} </td>
        </ng-container>
        <!-- Status -->
        <ng-container matColumnDef="status_text">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let element" data-label="Status"> {{element.status_text }} </td>
        </ng-container>



        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="6">No data found</td>
        </tr>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      </table>
    </div>
</mat-card>
</ng-container>
</div>
